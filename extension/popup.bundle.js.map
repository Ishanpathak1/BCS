{"version":3,"file":"popup.bundle.js","mappings":";;;;;AACA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://hardhat-project/./extension/popup.js"],"sourcesContent":["async function connectWallet() {\n  try {\n    console.log('Attempting to connect wallet...');\n    \n    // Fetch the pairing URI from the backend\n    const response = await fetch('http://localhost:3000/pairing-uri');\n    const data = await response.json();\n    \n    const pairingUri = data.uri;\n    console.log(`Received pairing URI: ${pairingUri}`);\n\n    // Detect if the user has a wallet installed (e.g., MetaMask)\n    if (window.ethereum) {\n      console.log('Wallet detected! Attempting direct connection...');\n      // Requesting access to Ethereum accounts from the user's wallet (like MetaMask)\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n      console.log(`Connected wallet address: ${accounts[0]}`);\n      // Display the connected wallet's address in the UI\n      document.getElementById('walletInfo').innerHTML = `Connected: <strong>${accounts[0]}</strong>`;\n      document.getElementById('qrcode').style.display = 'none'; // Hide the QR code if wallet is connected directly\n    } else {\n      console.log('No wallet detected, displaying QR code...');\n      \n      // If no wallet is detected, generate and display the QR code for the pairing URI\n      const qrcodeDiv = document.getElementById('qrcode');\n      qrcodeDiv.innerHTML = ''; // Clear previous QR code if any\n      const qrCode = new QRCode(qrcodeDiv, {\n        text: pairingUri,\n        width: 300,\n        height: 300\n      });\n    }\n  } catch (error) {\n    console.error('Error connecting wallet:', error);\n  }\n}\n\nwindow.onload = function () {\n  console.log('Page loaded. Setting up event listeners.');\n  \n  // Find the \"Connect Wallet\" button and set up an event listener for it\n  const connectWalletButton = document.getElementById('connectWallet');\n  if (connectWalletButton) {\n    connectWalletButton.addEventListener('click', connectWallet);\n    console.log('Connect Wallet button event listener added.');\n  } else {\n    console.error('Connect Wallet button not found.');\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"sourceRoot":""}