{"version":3,"file":"popup.bundle.js","mappings":";;;;;AACA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://hardhat-project/./extension/popup.js"],"sourcesContent":["async function connectWallet() {\n  try {\n      console.log('Attempting to connect wallet...');\n\n      // Fetch the pairing URI from the backend\n      console.log('Fetching pairing URI from the backend...');\n      const response = await fetch('http://localhost:3000/pairing-uri');\n      if (!response.ok) {\n          console.error(`Failed to fetch pairing URI. Status: ${response.status}`);\n          return;\n      }\n\n      const data = await response.json();  // Parse the response as JSON\n      const pairingUri = data.uri;         // Extract the URI\n      console.log(`Received pairing URI: ${pairingUri}`);\n\n      // Detect if the user has a wallet installed (e.g., MetaMask)\n      if (window.ethereum) {\n          console.log('Wallet detected! Attempting direct connection...');\n          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n          console.log(`Connected wallet address: ${accounts[0]}`);\n          document.getElementById('walletInfo').innerHTML = `Connected: <strong>${accounts[0]}</strong>`;\n          document.getElementById('qrcode').style.display = 'none'; // Hide QR code if wallet is connected\n      } else {\n          console.log('No wallet detected, displaying QR code...');\n          const qrcodeDiv = document.getElementById('qrcode');\n          qrcodeDiv.innerHTML = ''; // Clear previous QR code if any\n          const qrCode = new QRCode(qrcodeDiv, {\n              text: pairingUri,\n              width: 300,\n              height: 300\n          });\n      }\n  } catch (error) {\n      console.error('Error connecting wallet:', error);\n  }\n}\n\nwindow.onload = function () {\n  console.log('Page loaded. Setting up event listeners.');\n  const connectWalletButton = document.getElementById('connectWallet');\n  if (connectWalletButton) {\n      connectWalletButton.addEventListener('click', connectWallet);\n      console.log('Connect Wallet button event listener added.');\n  } else {\n      console.error('Connect Wallet button not found.');\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"sourceRoot":""}